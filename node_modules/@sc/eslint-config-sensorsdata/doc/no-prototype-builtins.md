# no-prototype-builtins

配置文件中的 `"extends": "eslint:recommended"` 属性启用了此规则。

在 ECMAScript 5.1 中，新增了 `Object.create`，它支持使用指定的 `[[Prototype]]` 创建对象。`Object.create(null)` 是一种常见的模式，用于创建将用作映射的对象。当假定对象将包含来自`Object.prototype` 的属性时，这可能会导致错误。该规则防止直接从一个对象调用某些 `Object.prototype` 的方法。

此外，对象可以具有属性，这些属性可以将 `Object.prototype` 的内建函数隐藏，可能导致意外行为或拒绝服务安全漏洞。例如，web 服务器解析来自客户机的 JSON 输入并直接在结果对象上调用 `hasOwnProperty` 是不安全的，因为恶意客户机可能发送一个 JSON 值，如 `{"hasOwnProperty": 1}`，并导致服务器崩溃。

为了避免这种细微的 bug，最好总是从 `Object.prototype` 调用这些方法。例如，`foo.hasOwnProperty("bar")` 应该替换为 `Object.prototype.hasOwnProperty.call(foo, "bar")`。

Rule Details[](#rule-details)
-----------------------------

该规则禁止直接在对象实例上调用 `Object.prototype` 的一些方法。

**错误** 代码示例：

``` js
/\*eslint no-prototype-builtins: "error"\*/

var hasBarProperty = foo.hasOwnProperty("bar");

var isPrototypeOfBar = foo.isPrototypeOf(bar);

var barIsEnumerable = foo.propertyIsEnumerable("bar");


```

**正确** 代码示例：

``` js
/\*eslint no-prototype-builtins: "error"\*/

var hasBarProperty = Object.prototype.hasOwnProperty.call(foo, "bar");

var isPrototypeOfBar = Object.prototype.isPrototypeOf.call(foo, bar);

var barIsEnumerable = {}.propertyIsEnumerable.call(foo, "bar");


```

When Not To Use It[](#when-not-to-use-it)
-----------------------------------------

如果你的代码只接触带有硬编码键的对象，并且你永远不会使用遮蔽 `Object.prototype` 的方法或者不是继承自 `Object.prototype` 的方法，那么你可能想要关闭此规则。

Version[](#version)
-------------------

该规则在 ESLint 2.11.0 中被引入。
