@import '../../style/themes/index';
@import '../../style/mixins/index';

@tabs-card-head-background: @background-transparent-grey;
@tabs-card-horizontal-padding: 5px 12px;
@tabs-card-active-color: @component-primary;
@tabs-card-gutter: 4px;
@tabs-card-tab-text-max-width: 96px;
@tabs-card-content-holder-padding: 16px;

@tab-prefix-cls: ~'@{sens-prefix}-tabs';

.@{tab-prefix-cls}-card {
  > .@{tab-prefix-cls}-nav,
  > div > .@{tab-prefix-cls}-nav {
    .@{tab-prefix-cls}-tab {
      box-sizing: border-box;
      height: 32px;
      margin: 0;
      padding: @tabs-card-horizontal-padding;
      font-size: @font-size;
      line-height: @line-height;
      background: @background-grey;
      border: @border-width-base @border-style-base @background-grey;
      border-bottom-color: @border-color-split;
      transition: all @animation-duration-slow @ease-in-out;

      &:hover {
        .@{tab-prefix-cls}-tab-remove {
          visibility: visible;
        }
      }

      &-active {
        flex: none;
        background: @component-background;
        border: @border-width-base @border-style-base @outline-color-transparent;

        .@{tab-prefix-cls}-tab-remove {
          visibility: visible;
        }
      }

      &.@{tab-prefix-cls}-tab-active .@{tab-prefix-cls}-tab-btn {
        font-weight: 500;
      }

      &-btn-text {
        max-width: @tabs-card-tab-text-max-width;
      }

      &-remove {
        display: flex;
        visibility: hidden;
        transition: none;
      }
    }

    .@{tab-prefix-cls}-nav-list,
    .@{tab-prefix-cls}-nav-operations {
      .@{tab-prefix-cls}-nav-more {
        padding: 0;
      }

      .@{tab-prefix-cls}-more-icon.@{tab-prefix-cls}-edit-card-more-icon {
        span {
          &:first-child {
            margin-right: 0;
          }
        }
      }

      .@{tab-prefix-cls}-nav-add {
        min-width: 0;
        margin-bottom: 1px;
        margin-left: 1px;
        padding-left: 7px;
        background-color: @white;
        border: none;
      }
    }

    .@{tab-prefix-cls}-nav-operations {
      padding: 5px 8px;

      .@{tab-prefix-cls}-nav-add {
        margin: 0;
        margin-left: @horizontal-margin-sm;
        padding: 0;
      }
    }

    .@{tab-prefix-cls}-ink-bar {
      visibility: hidden;
    }
  }

  // ========================== Top & Bottom ==========================
  &.@{tab-prefix-cls}-top,
  &.@{tab-prefix-cls}-bottom {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab + .@{tab-prefix-cls}-tab {
        margin-left: @tabs-card-gutter;
      }
    }
  }

  &.@{tab-prefix-cls}-top {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab {
        border-radius: @border-radius-basic @border-radius-basic 0 0;

        &-active {
          border-bottom-color: @component-background;
        }
      }
    }
  }
  &.@{tab-prefix-cls}-bottom {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab {
        border-radius: @border-radius-basic @border-radius-basic 0 0;

        &-active {
          border-top-color: @component-background;
        }
      }
    }
  }

  // ========================== Left & Right ==========================
  &.@{tab-prefix-cls}-left,
  &.@{tab-prefix-cls}-right {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab + .@{tab-prefix-cls}-tab {
        margin-top: @tabs-card-gutter;
      }
    }
  }

  &.@{tab-prefix-cls}-left {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab {
        border-radius: @border-radius-basic @border-radius-basic 0 0;

        &-active {
          border-right-color: @component-background;
        }
      }
    }
  }
  &.@{tab-prefix-cls}-right {
    > .@{tab-prefix-cls}-nav,
    > div > .@{tab-prefix-cls}-nav {
      .@{tab-prefix-cls}-tab {
        border-radius: @border-radius-basic @border-radius-basic 0 0;

        &-active {
          border-left-color: @component-background;
        }
      }
    }
  }

  // ========================= border ======================
  &-border {
    .@{tab-prefix-cls}-nav {
      &::before {
        border: none;
      }

      &-wrap {
        margin-bottom: -1px;
      }

      &-list {
        margin-bottom: 1px;
        .@{tab-prefix-cls}-tab {
          border-bottom: none;

          &-active {
            &::after {
              position: absolute;
              right: 0;
              bottom: -1px;
              left: 0;
              height: 1px;
              background: #fff;
              content: '';
            }
          }
        }
      }
    }

    .@{tab-prefix-cls}-content-holder {
      margin-top: -@tabs-card-content-holder-padding;
      padding: @tabs-card-content-holder-padding;
      border: @border-width-base @border-style-base @outline-color-transparent;
      border-radius: 0 @border-radius-basic @border-radius-basic @border-radius-basic;
    }
  }
}

// =================== edit card ====================
.@{tab-prefix-cls}.@{tab-prefix-cls}-editable-card {
  // hide remove button when only one tab
  &-onetab {
    > .@{tab-prefix-cls}-nav
      .@{tab-prefix-cls}-nav-list
      .@{tab-prefix-cls}-tab
      .@{tab-prefix-cls}-tab-remove {
      display: none;
    }
  }

  .@{tab-prefix-cls}-nav-operations .@{tab-prefix-cls}-nav-more .@{tab-prefix-cls}-more-icon {
    display: block;
  }
}
