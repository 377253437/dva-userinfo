import _typeof from "@babel/runtime/helpers/esm/typeof";
import * as React from 'react';
import classNames from 'classnames';
import LoadingOutlined from "@sensd/icons/es/icons/LoadingOutlined";
import FileOutlined from "@sensd/icons/es/icons/FileOutlined";
import MinusSquareOutlined from "@sensd/icons/es/icons/MinusSquareOutlined";
import PlusSquareOutlined from "@sensd/icons/es/icons/PlusSquareOutlined";
import DownOutlined from "@sensd/icons/es/icons/DownOutlined";
import LocaleReceiver from '../../locale-provider/LocaleReceiver';
import defaultLocale from '../../locale/default';
import Tooltip from '../../tooltip';
import { isValidElement, cloneElement } from '../../_util/reactNode';
export default function renderSwitcherIcon(prefixCls, switcherIcon, showLine, treeNodeProps) {
  var isLeaf = treeNodeProps.isLeaf,
      expanded = treeNodeProps.expanded,
      loading = treeNodeProps.loading;

  if (loading) {
    return /*#__PURE__*/React.createElement(LoadingOutlined, {
      className: "".concat(prefixCls, "-switcher-loading-icon")
    });
  }

  var showLeafIcon;

  if (showLine && _typeof(showLine) === 'object') {
    showLeafIcon = showLine.showLeafIcon;
  }

  if (isLeaf) {
    if (showLine) {
      if (_typeof(showLine) === 'object' && !showLeafIcon) {
        return /*#__PURE__*/React.createElement("span", {
          className: "".concat(prefixCls, "-switcher-leaf-line")
        });
      }

      return /*#__PURE__*/React.createElement(FileOutlined, {
        className: "".concat(prefixCls, "-switcher-line-icon")
      });
    }

    return null;
  }

  var switcherCls = "".concat(prefixCls, "-switcher-icon");

  if (isValidElement(switcherIcon)) {
    return cloneElement(switcherIcon, {
      className: classNames(switcherIcon.props.className || '', switcherCls)
    });
  }

  if (switcherIcon) {
    return typeof switcherIcon === 'function' ? switcherIcon(treeNodeProps) : switcherIcon;
  }

  if (showLine) {
    return expanded ? /*#__PURE__*/React.createElement(MinusSquareOutlined, {
      className: "".concat(prefixCls, "-switcher-line-icon")
    }) : /*#__PURE__*/React.createElement(PlusSquareOutlined, {
      className: "".concat(prefixCls, "-switcher-line-icon")
    });
  }
  /* TODO 国际化 日语和泰文 */


  return /*#__PURE__*/React.createElement(LocaleReceiver, {
    componentName: "Tree",
    defaultLocale: defaultLocale.Tree
  }, function (locale) {
    return /*#__PURE__*/React.createElement(Tooltip, {
      title: expanded ? locale.expandText : locale.foldText
    }, /*#__PURE__*/React.createElement(DownOutlined, {
      className: switcherCls
    }));
  });
}