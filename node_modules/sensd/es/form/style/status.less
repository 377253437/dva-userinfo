@import (reference) '../../style/themes/index';

@form-prefix-cls: ~'@{sens-prefix}-form';
@form-item-prefix-cls: ~'@{form-prefix-cls}-item';

.@{form-item-prefix-cls} {
  // ================================================================
  // =                            Status                            =
  // ================================================================

  /* Some non-status related component style is in `components.less` */

  // ========================= Explain =========================

  /* To support leave along ErrorList. We add additional className to handle explain style */
  &-explain {
    &-error {
      color: @warning-color;

      .@{sens-prefix}-icon-error {
        margin-right: @horizontal-margin-xs;
      }
    }

    &-warning {
      color: @info-color;
    }
  }

  // ======================== Default form style ========================
  .form-control-validation();

  // InputNumber, TimePicker
  .@{sens-prefix}-input-number:not(.@{sens-prefix}-input-number-disabled),
  .@{sens-prefix}-picker:not(.@{sens-prefix}-input-number-disabled) {
    background-color: @form-error-input-bg;
    border-color: @divideline-color-transparent-dack;

    &:hover {
      background-color: @form-error-input-bg;
      border-color: @component-primary;
    }

    &:active {
      .active(@component-active, @component-active, @component-primary);
    }
  }

  .@{sens-prefix}-input-number-focused:not(.@{sens-prefix}-input-number-disabled),
  .@{sens-prefix}-picker-focused {
    .active(@component-active, @component-active, @component-primary);
    background-color: @form-error-input-bg;
    border-color: @component-active;
  }

  // Select
  .@{sens-prefix}-select:not(.@{sens-prefix}-select-disabled):not(.@{sens-prefix}-select-customize-input) {
    &.@{sens-prefix}-select-focused .@{sens-prefix}-select-selector {
      .active(@component-primary, @component-primary, @component-primary);
    }

    &.@{sens-prefix}-select-open .@{sens-prefix}-select-selector {
      .active(@component-primary, @component-primary, @component-primary);
    }

    .@{sens-prefix}-select-selector {
      background-color: @form-error-input-bg;
      border-color: @divideline-color-transparent-dack;

      &:hover {
        background-color: @form-error-input-bg;
        border-color: @component-primary;
      }

      &:active {
        .active(@component-active, @component-active, @component-primary);
      }
    }
  }

  // ======================== Success ========================
  &-has-success {
    &.@{form-item-prefix-cls}-has-feedback .@{form-item-prefix-cls}-children-icon {
      color: @success-color;
      animation-name: diffZoomIn1 !important;
    }
  }

  // ======================== Warning ========================
  &-has-warning {
    .form-control-validation(@error-color; @info-color; @form-error-input-bg; @info-color; @info-light-outline; @info-color);

    &.@{form-item-prefix-cls}-has-feedback .@{form-item-prefix-cls}-children-icon {
      color: @warning-color;
      animation-name: diffZoomIn3 !important;
    }

    // Select
    .@{sens-prefix}-select:not(.@{sens-prefix}-select-disabled):not(.@{sens-prefix}-select-customize-input) {
      &.@{sens-prefix}-select-focused .@{sens-prefix}-select-selector {
        .active(@warning-color, @warning-color, @error-color-outline);
      }

      &.@{sens-prefix}-select-open .@{sens-prefix}-select-selector {
        .active(@warning-color, @warning-color, @error-color-outline);
      }

      .@{sens-prefix}-select-selector {
        background-color: @form-error-input-bg;
        border-color: @warning-color;

        &:hover {
          background-color: @form-error-input-bg;
          border-color: @warning-color-hover;
        }

        &:active {
          .active(@warning-color-active, @warning-color-active, @error-color-outline);
        }
      }
    }

    // InputNumber, TimePicker
    .@{sens-prefix}-input-number:not(.@{sens-prefix}-input-number-disabled),
    .@{sens-prefix}-picker:not(.@{sens-prefix}-input-number-disabled) {
      background-color: @form-error-input-bg;
      border-color: @warning-color;

      &:hover {
        background-color: @form-error-input-bg;
        border-color: @warning-color-hover;
      }

      &:active {
        .active(@warning-color-active, @warning-color-active, @error-color-outline);
      }
    }

    .@{sens-prefix}-input-number-focused:not(.@{sens-prefix}-input-number-disabled),
    .@{sens-prefix}-picker-focused {
      .active(@warning-color-active, @warning-color-active, @error-color-outline);
      background-color: @form-error-input-bg;
      border-color: @warning-color-hover;
    }

    .@{sens-prefix}-cascader-picker:focus .@{sens-prefix}-cascader-input {
      .active(@warning-color, @warning-color-hover, @warning-color-outline);
    }
  }

  // ========================= Error =========================
  &-has-error {
    .form-control-validation(@error-color; @warning-color; @form-error-input-bg; @warning-color-hover; @error-color-outline; @warning-color-active);

    &.@{form-item-prefix-cls}-has-feedback .@{form-item-prefix-cls}-children-icon {
      color: @error-color;
      animation-name: diffZoomIn2 !important;
    }

    // fixes https://github.com/ant-design/ant-design/issues/20482
    .@{sens-prefix}-input-group-addon,
    .@{sens-prefix}-input-number-group-addon {
      .@{sens-prefix}-select {
        &.@{sens-prefix}-select-single:not(.@{sens-prefix}-select-customize-input)
          .@{sens-prefix}-select-selector {
          background-color: inherit;
          border: 0;
        }
      }
    }

    .@{sens-prefix}-select.@{sens-prefix}-select-auto-complete {
      .@{sens-prefix}-input:focus {
        border-color: @error-color;
      }
    }

    // Transfer
    .@{sens-prefix}-transfer {
      &-list {
        border-color: @error-color;

        &-search:not([disabled]) {
          border-color: @input-border-color;

          &:hover {
            .hover();
          }

          &:focus {
            .active();
          }
        }
      }
    }

    // Radio.Group
    .@{sens-prefix}-radio-button-wrapper {
      border-color: @error-color !important;

      &:not(:first-child) {
        &::before {
          background-color: @error-color;
        }
      }
    }

    // Upload
    .@{sens-prefix}-upload.@{sens-prefix}-upload-select-picture-card,
    .@{sens-prefix}-upload.@{sens-prefix}-upload-drag {
      border-color: @error-color;
    }
  }

  // ====================== Validating =======================
  &-is-validating {
    &.@{form-item-prefix-cls}-has-feedback .@{form-item-prefix-cls}-children-icon {
      display: inline-block;
      color: @primary-color;
    }
  }
}
